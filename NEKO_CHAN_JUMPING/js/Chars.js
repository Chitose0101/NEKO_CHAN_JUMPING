class Chars extends Entity{
    /*
    文字列のクラス
    */

    constructor(display_height, display_width, x, y, src) {
        /*
        コントラスタ
        src:もととなる文字列
        size:文字の大きさ
        */
        
        super(display_height, display_width, x, y);
        this.src = src;
        this.set_char();
        this.reset_collider();
    }
    
    reset_collider () {
        /*
        コライダーの設定
        */
        this.height = 6;
        this.width = 6 * this.src.length - 1;

        //文字列によらずコライダーは空
        this.collider = new Array(this.height);
        for (let y = 0; y < this.height; y++) {
            this.collider[y] = new Array(this.width);
            for (let x = 0; x < this.width; x++) {
                this.collider[y][x] = 0
            }
        }

        //文字列によってスキンを変える。
        this.skin = new Array(this.height);
        for (let y = 0; y < this.height; y++) {
            this.skin[y] = new Array(this.width);
            for (let x = 0; x < this.width; x++) {

                //xを6で割った商と余りをq,rに格納
                let q = Math.floor(x/6);
                let r = x % 6;
                //余りが5なら空
                if (r == 5) {
                    this.skin[y][x] = 0;
                //そうでないときはcharを参考に
                } else {
                    let src_char = this.src.charAt(q);
                    this.skin[y][x] = this.char[src_char][y][r];
                }
            }
        }
    }

    set_xy(x,y) {
        /*
        x,yのセッター
        */
        this.x = x;
        this.y = y;
    }

    set_char() {
        /*
        ただ文字の定義なんだけど、長いから最後に回した
        */

        this.char = {
            " " :
            [
                [0,0,0,0,0],
                [0,0,0,0,0],
                [0,0,0,0,0],
                [0,0,0,0,0],
                [0,0,0,0,0],
                [0,0,0,0,0],
            ],
            "0" :
            [
                [1,1,1,1,0],
                [1,0,0,1,0],
                [1,0,0,1,0],
                [1,0,0,1,0],
                [1,1,1,1,0],
                [0,0,0,0,0],
            ],
            "1" :
            [
                [0,1,1,0,0],
                [0,0,1,0,0],
                [0,0,1,0,0],
                [0,0,1,0,0],
                [0,0,1,0,0],
                [0,0,0,0,0],
            ],
            "2" :
            [
                [1,1,1,1,0],
                [0,0,0,1,0],
                [1,1,1,1,0],
                [1,0,0,0,0],
                [1,1,1,1,0],
                [0,0,0,0,0],
            ],
            "3" :
            [
                [1,1,1,1,0],
                [0,0,0,1,0],
                [1,1,1,1,0],
                [0,0,0,1,0],
                [1,1,1,1,0],
                [0,0,0,0,0],
            ],
            "4" :
            [
                [1,0,0,1,0],
                [1,0,0,1,0],
                [1,1,1,1,0],
                [0,0,0,1,0],
                [0,0,0,1,0],
                [0,0,0,0,0],
            ],
            "5" :
            [
                [1,1,1,1,0],
                [1,0,0,0,0],
                [1,1,1,1,0],
                [0,0,0,1,0],
                [1,1,1,1,0],
                [0,0,0,0,0],
            ],
            "6" :
            [
                [1,1,1,1,0],
                [1,0,0,0,0],
                [1,1,1,1,0],
                [1,0,0,1,0],
                [1,1,1,1,0],
                [0,0,0,0,0],
            ],
            "7" :
            [
                [1,1,1,1,0],
                [0,0,0,1,0],
                [0,0,0,1,0],
                [0,0,0,1,0],
                [0,0,0,1,0],
                [0,0,0,0,0],
            ],
            "8" :
            [
                [1,1,1,1,0],
                [1,0,0,1,0],
                [1,1,1,1,0],
                [1,0,0,1,0],
                [1,1,1,1,0],
                [0,0,0,0,0],
            ],
            "9" :
            [
                [1,1,1,1,0],
                [1,0,0,1,0],
                [1,1,1,1,0],
                [0,0,0,1,0],
                [1,1,1,1,0],
                [0,0,0,0,0],
            ],
            "A" : 
            [
                [0,1,1,1,0],
                [1,1,0,1,1],
                [1,0,0,0,1],
                [1,1,1,1,1],
                [1,0,0,0,1],
                [0,0,0,0,0],
            ],
            "B" :
            [
                [1,1,1,0,0],
                [1,0,0,1,0],
                [1,1,1,0,0],
                [1,0,0,1,0],
                [1,1,1,0,0],
                [0,0,0,0,0],
            ],
            "C" :
            [
                [0,1,1,1,0],
                [1,0,0,0,0],
                [1,0,0,0,0],
                [1,0,0,0,0],
                [0,1,1,1,0],
                [0,0,0,0,0],
            ],
            "D" :
            [
                [1,1,1,0,0],
                [1,0,0,1,0],
                [1,0,0,1,0],
                [1,0,0,1,0],
                [1,1,1,0,0],
                [0,0,0,0,0],
            ],
            "E" :
            [
                [1,1,1,1,0],
                [1,0,0,0,0],
                [1,1,1,1,0],
                [1,0,0,0,0],
                [1,1,1,1,0],
                [0,0,0,0,0],
            ],
            "F" :
            [
                [1,1,1,1,0],
                [1,0,0,0,0],
                [1,1,1,1,0],
                [1,0,0,0,0],
                [1,0,0,0,0],
                [0,0,0,0,0],
            ],
            "G" :
            [
                [0,1,1,1,0],
                [1,0,0,0,0],
                [1,0,1,1,1],
                [1,0,0,0,1],
                [0,1,1,1,0],
                [0,0,0,0,0],
            ],
            "H" :
            [
                [1,0,0,1,0],
                [1,0,0,1,0],
                [1,1,1,1,0],
                [1,0,0,1,0],
                [1,0,0,1,0],
                [0,0,0,0,0],
            ],
            "I" :
            [
                [0,1,1,1,0],
                [0,0,1,0,0],
                [0,0,1,0,0],
                [0,0,1,0,0],
                [0,1,1,1,0],
                [0,0,0,0,0],
            ],
            "J" :
            [
                [0,0,0,1,0],
                [0,0,0,1,0],
                [0,0,0,1,0],
                [1,0,0,1,0],
                [0,1,1,0,0],
                [0,0,0,0,0],
            ],
            "K" :
            [
                [1,0,0,1,0],
                [1,0,1,0,0],
                [1,1,0,0,0],
                [1,0,1,0,0],
                [1,0,0,1,0],
                [0,0,0,0,0],
            ],
            "L" :
            [
                [1,0,0,0,0],
                [1,0,0,0,0],
                [1,0,0,0,0],
                [1,0,0,0,0],
                [1,1,1,1,0],
                [0,0,0,0,0],
            ],
            "M" :
            [
                [1,0,0,0,1],
                [1,1,0,1,1],
                [1,0,1,0,1],
                [1,0,1,0,1],
                [1,0,0,0,1],
                [0,0,0,0,0],
            ],
            "N" :
            [
                [1,0,0,0,1],
                [1,1,0,0,1],
                [1,0,1,0,1],
                [1,0,0,1,1],
                [1,0,0,0,1],
                [0,0,0,0,0],
            ],
            "O" :
            [
                [0,1,1,1,0],
                [1,0,0,0,1],
                [1,0,0,0,1],
                [1,0,0,0,1],
                [0,1,1,1,0],
                [0,0,0,0,0],
            ],
            "P" :
            [
                [1,1,1,1,0],
                [1,0,0,0,1],
                [1,1,1,1,0],
                [1,0,0,0,0],
                [1,0,0,0,0],
                [0,0,0,0,0],
            ],
            "Q" :
            [
                [0,1,1,1,0],
                [1,0,0,0,1],
                [1,0,0,0,1],
                [1,0,1,0,1],
                [0,1,1,1,0],
                [0,0,0,0,1],
            ],
            "R" :
            [
                [1,1,1,1,0],
                [1,0,0,0,1],
                [1,1,1,1,0],
                [1,0,0,1,1],
                [1,0,0,0,1],
                [0,0,0,0,0],
            ],
            "S" :
            [
                [1,1,1,1,0],
                [1,0,0,0,0],
                [1,1,1,1,0],
                [0,0,0,1,0],
                [1,1,1,1,0],
                [0,0,0,0,0],
            ],
            "T" :
            [
                [1,1,1,1,1],
                [0,0,1,0,0],
                [0,0,1,0,0],
                [0,0,1,0,0],
                [0,0,1,0,0],
                [0,0,0,0,0],
            ],
            "U" :
            [
                [1,0,0,0,1],
                [1,0,0,0,1],
                [1,0,0,0,1],
                [1,0,0,0,1],
                [0,1,1,1,0],
                [0,0,0,0,0],
            ],
            "V" :
            [
                [1,0,0,0,1],
                [1,0,0,0,1],
                [1,0,0,0,1],
                [0,1,0,1,0],
                [0,0,1,0,0],
                [0,0,0,0,0],
            ],
            "W" :
            [
                [1,0,0,0,1],
                [1,0,0,0,1],
                [1,0,0,0,1],
                [1,0,1,0,1],
                [0,1,0,1,0],
                [0,0,0,0,0],
            ],
            "X" :
            [
                [1,0,0,0,1],
                [0,1,0,1,0],
                [0,0,1,0,0],
                [0,1,0,1,0],
                [1,0,0,0,1],
                [0,0,0,0,0],
            ],
            "Y" :
            [
                [1,0,0,0,1],
                [0,1,0,1,0],
                [0,0,1,0,0],
                [0,0,1,0,0],
                [0,0,1,0,0],
                [0,0,0,0,0],
            ],
            "Z" :
            [
                [1,1,1,1,0],
                [0,0,0,1,0],
                [0,0,1,0,0],
                [0,1,0,0,0],
                [1,1,1,1,0],
                [0,0,0,0,0],
            ],

        }
    }
}